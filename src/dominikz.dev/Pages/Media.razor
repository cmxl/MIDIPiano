@page "/media"
@using dominikz.dev.Shared.Cards
@using dominikz.dev.Shared.Collection
@using dominikz.kernel.ViewModels

<PageTitle>Media</PageTitle>

<MediaCarousel Data="_preview" />

<Searchbox OnChanged="@OnSearchChanged" />

<CollectionFilterBar T="MediaCategoryEnum" Values="Enum.GetValues<MediaCategoryEnum>().ToList()" OnChanged="@OnCategoryChanged" />

<MatDivider />

@if (_category != MediaCategoryEnum.ALL)
{
    <CollectionFilterBar T="MediaGenre" Values="_genresByCategory[_category]" OnChanged="@OnGenreChanged" />
}

<Panel>
    @foreach (var media in _media)
    {
        <MediaCard Data="media" ShowCategory="@(_category != MediaCategoryEnum.ALL)" Width="250" Height="150" />
    }
</Panel>