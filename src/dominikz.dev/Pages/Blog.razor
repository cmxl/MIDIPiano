@page "/blog"
@using dominikz.dev.Shared.Cards
@using dominikz.dev.Shared.Collection
@using dominikz.dev.Utils
@using dominikz.kernel.ViewModels

<PageTitle>Blog</PageTitle>

<Searchbox OnChanged="@OnSearchChanged" />

<CollectionFilterBar T="ArticleCategoryEnum" Values="Enum.GetValues<ArticleCategoryEnum>().ToList()" OnChanged="@OnCategoryChanged" />

<Panel>
    @foreach (var featureAarticle in _featureArticles)
    {
        <Card Width="350" Highlight=true Title="@featureAarticle.Title" ImageUrl="@featureAarticle.ImageUrl" OnClick="() => NavigateToDetail(featureAarticle.Id)">
            <CardSidebarContent ImageUrl="@featureAarticle.AuthorUrl">
                <Lable Darken=true Icon="calendar_today" Text="@featureAarticle.Timestamp.ToString("yyyy-MM-dd")" />
                <Lable Darken=true Icon="contacts" Text="@featureAarticle.Author" />
                <Lable Darken=true Text="@EnumConverter.ToString(featureAarticle.Category)" />
            </CardSidebarContent>
        </Card>
    }
</Panel>

<Panel>
    @foreach (var filterArticle in _filteredArticles)
    {
        <Card Width="300" Title="@filterArticle.Title" ImageUrl="@filterArticle.ImageUrl" OnClick="() => NavigateToDetail(filterArticle.Id)">
            <CardSidebarContent ImageUrl="@filterArticle.AuthorUrl">
                <Lable Darken=true Icon="calendar_today" Text="@filterArticle.Timestamp.ToString("yyyy-MM-dd")" />
                <Lable Darken=true Icon="contacts" Text="@filterArticle.Author" />
                <Lable Darken=true Text="@EnumConverter.ToString(filterArticle.Category)" />
            </CardSidebarContent>
        </Card>
    }
</Panel>